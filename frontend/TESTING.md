# Portfolio Page Test Plan

## Тесты для страницы портфолио

### Ручное тестирование (Manual Testing)

#### 1. Загрузка страницы
- [ ] Страница `/portfolio` открывается без ошибок
- [ ] Отображается заголовок "Портфолио"
- [ ] При загрузке показывается текст "Загрузка..."

#### 2. Карточки сводки
После успешной загрузки данных должны отображаться:
- [ ] Карточка "Инвестировано" с суммой в долларах
- [ ] Карточка "Текущая стоимость" с текущей стоимостью портфеля
- [ ] Карточка "Прибыль/Убыток" (зелёный если ≥0, красный если <0)
- [ ] Карточка "Доходность" в процентах (зелёный если ≥0, красный если <0)

#### 3. Кнопка добавления актива
- [ ] Кнопка "Добавить актив" видна после загрузки
- [ ] При клике на кнопку появляется форма добавления
- [ ] Текст кнопки меняется на "Скрыть форму"
- [ ] Повторный клик скрывает форму

#### 4. Форма добавления актива
Форма должна содержать:
- [ ] Поле "Символ (например, BTC)" - обязательное, текст
- [ ] Поле "Количество" - обязательное, число
- [ ] Поле "Цена покупки" - обязательное, число
- [ ] Кнопку "Добавить" (или "Добавление..." при отправке)

Поведение:
- [ ] При успешном добавлении форма скрывается
- [ ] Данные портфолио перезагружаются
- [ ] При ошибке отображается сообщение об ошибке

#### 5. Таблица активов
Колонки таблицы:
- [ ] Тикер (символ криптовалюты)
- [ ] Количество
- [ ] Цена покупки
- [ ] Текущая цена (или "-" если недоступна)
- [ ] Стоимость (текущая цена × количество)
- [ ] P&L (прибыль/убыток в долларах и процентах)

Стили:
- [ ] P&L окрашен зелёным если ≥0, красным если <0

#### 6. Обработка ошибок
- [ ] При ошибке загрузки отображается сообщение об ошибке
- [ ] Сообщение об ошибке имеет красный фон
- [ ] Ошибка при добавлении актива отображается в виде alert

### Автоматические тесты (TODO)

Для запуска автоматических тестов потребуется установить:
```bash
npm install --save-dev jest @testing-library/react @testing-library/jest-dom @types/jest
```

Затем создать тесты в `__tests__/portfolio.test.tsx`

### Чек-лист перед деплоем
- [ ] Все ручные тесты пройдены успешно
- [ ] Страница компилируется без ошибок TypeScript
- [ ] Нет ошибок в консоли браузера
- [ ] API запросы работают корректно
- [ ] Адаптивный дизайн работает на мобильных устройствах
